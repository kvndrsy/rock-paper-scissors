<!DOCTYPE html>
<html>
    <head>
        <title>Rock, Paper, Scissors</title>
        <meta charset="utf-8">
    </head>
    <body>
        <script>
            const ROCK = "Rock";
            const PAPER = "Paper";
            const SCISSORS = "Scissors";

            function computerPlay() {
                switch ( Math.floor(Math.random() * 3) ) {
                    case 0:
                        return ROCK;
                    case 1:
                        return PAPER;
                    case 2:
                        return SCISSORS;
                }
                
            }

            function playerPlay() {
                let playerSelection;
                while (true) {
                    playerSelection = prompt("Enter Rock, Paper, or Scissors:", "Rock");
                    if (playerSelection) {
                        playerSelection = playerSelection[0].toUpperCase() + playerSelection.slice(1).toLowerCase();
                    }
                    switch (playerSelection) {
                        case ROCK:
                        case PAPER:
                        case SCISSORS:
                            return playerSelection;
                        default:
                            console.log("Invalid selection. Try again.");
                    }
                }
            }

            function playRound(playerSelection, computerSelection) {
                if (playerSelection === computerSelection) {
                    return "A draw!"
                } else if (
                    playerSelection === ROCK && computerSelection === PAPER 
                    || playerSelection === PAPER && computerSelection === SCISSORS 
                    || playerSelection === SCISSORS && computerSelection === ROCK
                    ) {
                    return `You lose! ${computerSelection} beats ${playerSelection}.`
                } else {
                    return `You win! ${playerSelection} beats ${computerSelection}.`
                }
            }

            function game() {
                for (i = 0; i < 5; i++) {
                    console.log(playRound(playerPlay(), computerPlay()));
                }
            }

            game();
        </script>
    </body>
</html>